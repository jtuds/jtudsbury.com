<!DOCTYPE html>
<html>

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>Vanilla Javascript toggle attribute helper | Portfolio of James Tudsbury, Manchester based web developer</title>
  <meta name="description" content="Recently when needing to toggle the state of a data attribute using plain vanilla Javascript I found that though there was some articles and helper functions...">

  <link rel="stylesheet" href="/css/main.css?bust=1525272494">
  <link href='https://fonts.googleapis.com/css?family=Work+Sans:400,300,600,700|Hind:300,500' rel='stylesheet' type='text/css'>
  <link rel="canonical" href="https://jtudsbury.com/posts/2017/08/15/toggle-attribute-plain-javascript.html">
  <link rel="alternate" type="application/rss+xml" title="James Tudsbury - Web Developer" href="https://jtudsbury.com/feed.xml">
  <link rel="shortcut icon" href="https://jtudsbury.com/favicon_v2.ico" />
</head>


  <body>

    <header class="site-header">

  
    <a class="icon icon--home-yellow home-link" href="https://jtudsbury.com"><span class="visuallyhidden">Home</span></a>
  

  <div class="hero">

    <div class="hero__text-wrapper">
      <div class="wrapper">
        <h1 class="hero__text">James Tudsbury
          <div class="rotating-words">
            <span>Front end developer<span class="visuallyhidden">, </span></span>
            <span>Backend dabbler<span class="visuallyhidden">, </span></span>
            <span>User behaviour enthusiast<span class="visuallyhidden">, </span></span>
            <span>Designer<span class="visuallyhidden">, </span></span>
            <span>Web lover<span class="visuallyhidden">, </span></span>
            <span>Mountain jumper<span class="visuallyhidden">.</span></span>
          </div>
        </h1>
      </div><!--/.wrapper -->
    </div><!--/.hero__text-wrapper -->

  </div><!--/.hero -->

  
    <div class="site-nav-wrapper">
      <nav class="site-nav site-nav--single">
        <a class="site-nav__link" href="https://jtudsbury.com/">Back to home</a>
      </nav>
    </div><!--/.site-nav-wrapper -->
  

</header>


    <div class="page-content">
      <div class="panel">
	<div class="wrapper">
		<article class="post" itemscope itemtype="http://schema.org/BlogPosting">

		  <header class="post-header">
		    <h1 class="post-title" itemprop="name headline">Vanilla Javascript toggle attribute helper</h1>
		    <p class="post-meta"><time datetime="2017-08-15T10:26:23+01:00" itemprop="datePublished">Aug 15, 2017</time></p>
		  </header>

		  <div class="post-content" itemprop="articleBody">
		    <p>Recently when needing to toggle the state of a data attribute using plain vanilla Javascript I found that though there was some articles and helper functions out there for toggling classes, there wasn’t any for data attributes, which I imagine are quite common. This is a very straightforward piece of code (more straightforward than toggling classes) but is really useful and it’s handy not to have to write these things from scratch every time so hopefully people can find this and use it.</p>

<h3 id="toggleattribute">toggleAttribute</h3>
<div class="highlighter-rouge"><pre class="highlight"><code>function toggleAttribute (el, attr, val) {
	if (el.hasAttribute(attr) &amp;&amp; el.getAttribute(attr) === val) {
		el.removeAttribute(attr);
	} else {
		el.setAttribute(attr, val);
	}
};
</code></pre>
</div>
<p>Here’s an example of how you might call that function</p>

<div class="highlighter-rouge"><pre class="highlight"><code>toggleAttribute(document.querySelector('.my-element'), 'data-gonna-toggle', 'true');
</code></pre>
</div>

<p>That will result in the element with a class of <code class="highlighter-rouge">.my-element</code> having the attribute <code class="highlighter-rouge">data-gonna-toggle</code> toggle between the value being <code class="highlighter-rouge">true</code> or simply empty.</p>

<p>This could be expanded further to toggle between two values, e.g. true and false. Though if true doesn’t exist you should be able to assume that the value is false, so a better example would be toggling between something non boolean such as “red” and “blue”. The function doesn’t currently cater for this as currently it just removes the attribute rather than replacing it with a different value but it may be something I look to do in the future.</p>

		  </div>

		</article>
	</div><!-- end .wrapper -->
</div><!-- end .panel -->

    </div>

    
  <nav class="site-nav site-nav--footer">
      <a class="site-nav__link" href="#">Back to top</a><a class="site-nav__link" href="https://jtudsbury.com/">Back to home</a>
    </nav>


<footer class="site-footer">

  <div class="wrapper">

    <div class="footer-col-wrapper">
      <div class="footer-col footer-col-1">
        <p>Email: <a href="mailto:james@jtudsbury.com">james@jtudsbury.com</a> | Twitter: <a href="https://twitter.com/@jtuds">@jtuds</a> | Icons by <a href="http://www.freepik.com" title="Freepik">Freepik</a> and <a href="http://www.flaticon.com/authors/dave-gandy" title="Dave Gandy">Dave Gandy</a> from <a href="http://www.flaticon.com" title="Flaticon">www.flaticon.com</a> are licensed by <a href="http://creativecommons.org/licenses/by/3.0/" title="Creative Commons BY 3.0" target="_blank">CC 3.0 BY</a></p>
      </div>
    </div>

  </div>

</footer>





<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-34770509-1', 'auto');
  ga('send', 'pageview');

</script>

  </body>

</html>
